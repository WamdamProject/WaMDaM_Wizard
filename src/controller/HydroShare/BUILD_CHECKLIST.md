
# Update development branch

1. git checkout develop

2. Merge any desired feature branches into develop (e.g. git merge FEATURE_BRANCH_NAME)

# Update version information

The HydroShare REST Python client library uses [semantic versioning 2.0.0](http://semver.org),
and follows Python-specific conventions described in [PEP 0440](https://www.python.org/dev/peps/pep-0440/). 

1. Update __version__ in hs_restclient.__init__.py

2. Update version in setup.py to match that in hs_restclient.__init__.py

# Rebuild documentation

(all commands must be run from the root of the repo, unless otherwise noted.)

1. Update .rst source:

    sphinx-apidoc -o docs hs_restclient -f

2. Generate HTML documentation:

    cd docs && make html && cd -

> Note: This is only needed if you want a local copy of the HTML version.  HTML docs will
> automatically be generated by Read the Docs

# Update release notes

Add a brief summary of changes to RELEASE_NOTES.md.

# Merge develop into master

1. git commit -am '1.0.0 release'

2. git checkout master

3. git merge develop

# Create release tag, push master to GitHub

1. git tag -a 1.0.0 -m 'Initial release'

2. git push origin master --tags

# Publish version to PyPi

    sh publish.sh

During the process of publishing, you will first see:

    We need to know who you are, so please choose either:
     1. use your existing login,
     2. register as a new user,
     3. have the server generate a new password for you (and email it to you), or
     4. quit
    Your selection [default 1]: 

Choose option "1".  When prompted for a username, enter "hydroshare".  Use
the "hydroshare" PyPi password.

Then you will see something like the following:
    
    I can store your PyPI login so future submissions will be faster.
    (the login will be stored in /Users/miles/.pypirc)
    Save your login (y/N)?
    
Say yes to this (by typing 'y' and hitting enter; don't worry, the publish script  
will save a backup of any existing .pypirc and will restore this backup after publishing
has finished).  If you fail to save the HyroShare credentials to a .pypirc,
the actual upload of this version will fail and you will be left with an empty version 
that cannot be re-used.  If this happens, change the version in setup.py to, for example,
1.0.0.post1, and then re-publish.

> Only run publish.sh once per release unless you know what you are doing!!!

# Set version information to next release

1. git checkout develop

2. Update __version__ in hs_restclient.__init__.py, e.g. '1.0.1.dev1'.

3. Update version in setup.py to match that in hs_restclient.__init__.py

> This version number will be changed to a 'non-development' version when the 
> next release is done.

4. git commit -a -m '1.0.1.dev1' && git push origin develop
